<!DOCTYPE html>
<html lang="en" th:object="${command}">
  
  <head th:replace="common/head :: head (*{article.title}, *{article.pageDescription})"/>
  
  <body>

	<div id="colorlib-page">
	<form id="articleForm" method="post">
		<input type="hidden" th:field="*{articleId}"/>
		<input type="hidden" th:field="*{currentPage}"/>
		<input type="hidden" th:field="*{selectedCategory}"/>
		<input type="hidden" th:field="*{selectedSorting}"/>
		<input type="hidden" th:field="*{selectedTag}"/>
		<input type="hidden" th:field="*{searchText}"/>
		
			
		<div id="colorlib-main" class="article">
	    	<div class="container">	    			
	    			<div class="col-lg-12 px-md-7 py-7">
	    			
	    				<span class=" d-none d-xl-block">
		    				<p class="blog-img">
			    				<a th:href="|javascript:submitAction('articleForm', 'back')|">
					              <img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/common/chris_blog.png}" alt="" class="img-fluid">
					            </a>
				            </p>
			            </span>
	    				
	    				<div class="nav d-flex align-items-center full-height">
	    					<a th:href="|javascript:submitAction('articleForm', 'back')|">
          						<span class="nav-item">Home</span>
        					</a>
        					<a th:href="|javascript:submitAction('articleForm', 'about')|">
          						<span class="nav-item">About Me</span>
        					</a>
	    				</div>
	    				
	    				<div class="row articleSection pt-md-4 articleBanner d-flex align-items-center justify-content-center full-height"	    					
	    					style="background-image: url(https://chrisblog.s3-eu-west-1.amazonaws.com/banner/IT/banner.jpg);"
	    					>
    						<div class="col-lg-12 px-md-7 py-7" >
    							<div class="row articleSection d-flex align-items-center justify-content-center full-height ">
    								<div class="mb-3 articleBannerText" th:text="*{article.title}">Article Title</div>
    							</div>
    							<div class="row articleSection meta-wrap">
    								<p>
	              						<span class="icon-wrap"><i class="icon-calendar mr-2"></i><span th:text="*{article.date}"/></span>
	              						<span class="icon-wrap"><i class="icon-person mr-2"></i><span th:text="*{article.author}"/></a></span>	              						
	              						<!-- span class="icon-wrap"><i class="icon-folder mr-2"></i><span th:text="*{article.category.name}"/></span -->
	              					</p>
    							</div>
    						</div>
    					</div> 
    					
    					<span class="d-none d-xl-block">
	    					<div class="avatarIcon">
								<div class="avatar">
									<img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/common/none.png}" alt="">
								</div>
								<span class="author_name">By: <b th:text="*{article.author}"/></span>
							</div>
						</span> 
						
						<hr class="line d-none d-xl-block">						
    						
   						<h2 class="mb-3 mt-5 articleSectionTitle">Introduction</h2>
   						<div class="row articleSection pt-md-4" th:utext="*{article.description}">Article desciption</div>
   						
   						<p class="article-img">
			              <img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/articles/article-{articleId}/main.jpg(articleId=*{articleId})}" alt="" class="img-fluid">
			            </p>
			            <p class="article-img-title">Image: Spring Boot + Thymeleaf + Form</p>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Used Technologies</h2>				            
			            <div class="row articleSection pt-md-4">
			            	This project requires following tools and technologies:			            			            
				            <ul>
				            	<li><b>Java</b>: project was tested on version 1.8.0_221</li>
				            	<li><b>Maven</b>: project was tested on version 3.3.9</li>
				            	<li><b>Spring Boot MVC</b>: used <b>Back-End technology</b>. Project was tested on version 2.3.4.RELEASE</li>
				            	<li><b>GIT (optional)</b>: this tool is only required for downloading source code. Project was tested on version 2.22.0</li>
				            </ul>
			            </div>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Prerequisites</h2>				            
			            <div class="row articleSection pt-md-4">
			            	This project is based on existing project <b>rest-api</b>. Article describes only <b>differences between these two projects</b>.
			            	Base project is available on my Github repository. You can:
			            	<ul>
				            	<li>Download base project <b>rest-api</b> directly from my <a href="https://github.com/wisniewskikr/spring-boot" target="_blank">Github Repository</a>;</li>
				            	<li>Or download base project using following commands:</li>				            	
				            </ul>			            	
<pre class="language-bash">
$ git clone git@github.com:wisniewskikr/spring-boot.git
$ cd rest-api
</pre>
			            </div>		
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Project Structure</h2>				            
			            <div class="row articleSection pt-md-4">
			            	This project has following structure of files:	
			            </div>
			            <p class="article-img">			            
				            <img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/articles/article-13/project-structure.png}" alt="" class="img-fluid">
				            <p class="article-img-title">Image: Projec structure</p>
			            </p>
			          			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Step 1. Update Maven file "pom.xml"</h2>				            
			            <div class="row articleSection pt-md-4">
			            	In file <b>pom.xml</b> you have to add dependencies related with Spring Security. 	
			            </div>
			            <div class="row articleSection pt-md-4">			            
				            <script src="https://gist.github.com/wisniewskikr/f7bdd966cc952436c44a00c350d2e08b.js"></script>
			            </div>
			            <div class="row articleSection pt-md-4">
			            	Important lines:			            			            
				            <ul>
				            	<li><b>lines 42 - 45</b>: Spring Security dependencies;</li>
				            </ul>
			            </div>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Step 2. Update file application.properties</h2>				            
			            <div class="row articleSection pt-md-4">
			            	In file <b>application.properties</b> you have to add BASIC authentication credentials.
			            </div>
			            <div class="row articleSection pt-md-4">			            
				            <script src="https://gist.github.com/wisniewskikr/f3ebf842312bd12004aba35ef9da5f04.js"></script>
			            </div>
			            <div class="row articleSection pt-md-4">
			            	Important lines:			            			            
				            <ul>
				            	<li><b>lines 5 - 6</b>: BASIC authentication credentials.</li>				            	
				            </ul>
			            </div>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Step 3. Create class SecurityConfig.java</h2>				            
			            <div class="row articleSection pt-md-4">
			            	Class <b>SecurityConfig.java</b> contains all configuration related to security.	
			            </div>
			            <div class="row articleSection pt-md-4">			            
				            <script src="https://gist.github.com/wisniewskikr/0d8afb43372c4206c3a8dd73affda5d5.js"></script>
			            </div>
			            <div class="row articleSection pt-md-4">
			            	Important lines:			            			            
				            <ul>
				            	<li><b>line 10</b>: annotation <b>@Configuration</b> marks this class as configuration of Spring Boot;</li>
				            	<li><b>line 11</b>: annotation <b>@EnableWebSecurity</b> turns on security in this Spring Boot project;</li>
				            	<li><b>line 12</b>: class SecurityConfig has to extend class <b>WebSecurityConfigurerAdapter</b>;</li>
				            	<li><b>lines 14 - 17</b>: read BASIC security credentials from properties;</li>
				            	<li><b>lines 19 - 30</b>: overriding method <b>configure()</b> with attribute <b>HttpSecurity</b>. 
				            	This method describes that paht <b>/greeting</b> should be secured by <b>BASIC</b> security 
				            	and only users with role <b>USER</b> have access here. Additionally <b>CSRF</b> is turned off here;</li>
				            	<li><b>lines 32 - 38</b>: overriding method <b>configure()</b> with attribute <b>AuthenticationManagerBuilder</b>. 
				            	This method connects credentials with role <b>USER</b>.</li>
				            </ul>
			            </div>		           
			            		            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Run Project</h2>				            
			            <div class="row articleSection pt-md-4">
			            	You can run this project: 
			            	<ul>
				            	<li>Directly launching class <b>Application.java</b> in your IDE;</li>
				            	<li>Or using following Maven commands:</li>				            	
				            </ul>			            				            
<pre class="language-bash">
$ mvn spring-boot:run
</pre>
			            </div>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Demo</h2>
			            <div class="row articleSection pt-md-4">
			            	To see demo please use some <b>REST API Client</b> - for instance RESTer. 			            	
			            	Please don't forget to use <b>credentials for BASIC authentication</b>.
			            	Please use following URL and test it for GET and POST metods: <b>http://localhost:8080/app/greeting</b>.
			            </div>
			            <p class="article-img">			            
				            <img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/articles/article-13/demo1.png}" alt="" class="img-fluid">
			            </p>
			            <p class="article-img-title">Image: Demo GET</p>
			            <p class="article-img">			            
				            <img th:src="@{https://chrisblog.s3-eu-west-1.amazonaws.com/articles/article-13/demo2.png}" alt="" class="img-fluid">
			            </p>
			            <p class="article-img-title">Image: Demo POST</p>
			            
			            <h2 class="mb-3 mt-5 articleSectionTitle">Source Code</h2>				            
			            <div class="row articleSection pt-md-4">
			            	The source code of this project is available on my Github repository. You can:
			            	<ul>
				            	<li>Download project <b>rest-api-security-basic</b> directly from my <a href="https://github.com/wisniewskikr/spring-boot" target="_blank">Github Repository</a>;</li>
				            	<li>Or download and run project using following commands:</li>				            	
				            </ul>			            	
<pre class="language-bash">
$ git clone git@github.com:wisniewskikr/spring-boot.git
$ cd rest-api-security-basic
$ mvn spring-boot:run
</pre>
			            </div>			            
    			  		    		
			    	</div> 	
			    	
		    		<div class="form-group article-button">
			        	<a th:href="|javascript:submitAction('articleForm', 'back')|" class="btn py-3 px-4 btn-primary">Go Back</a>
			         </div>		         
					
	    		</div>    	
		</div><!-- END COLORLIB-MAIN -->
	</form>	
	</div><!-- END COLORLIB-PAGE -->

  	<js th:replace="common/js"/>
    
  </body>
</html>